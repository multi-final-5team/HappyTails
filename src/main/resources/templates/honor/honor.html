<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragments/head :: head}">

    <title>λ…μμ μ „λ‹Ή</title>

</head>

<style>
    .glowing-medal-gold {
        display: inline-block;
        filter: brightness(1.3);
        text-shadow: 0 0 5px rgba(255, 215, 0, 0.8),
        0 0 10px rgba(255, 215, 0, 0.6),
        0 0 15px rgba(255, 215, 0, 0.4);
    }

    .glowing-medal-silver {
        display: inline-block;
        filter: brightness(1.2);
        text-shadow: 0 0 5px rgba(192, 192, 192, 0.8),
        0 0 10px rgba(192, 192, 192, 0.6),
        0 0 15px rgba(100, 149, 237, 0.3);
    }

    .glowing-medal-bronze {
        display: inline-block;
        filter: brightness(1.1);
        text-shadow: 0 0 5px rgba(205, 127, 50, 0.7),
        0 0 10px rgba(205, 127, 50, 0.5);
    }
</style>

<body>

<menu th:replace="~{fragments/head :: menu}"></menu>

<main>

<br>

<h1 class="mb-4 text-center">πΎ λ…μμ μ „λ‹Ή πΎ</h1>
<h3 class="mb-4 text-center">μ†μ¤‘ν• κΈ°λ΅μ μκ°„λ“¤μ„ μλ‘ν•μ‹κ°! π¶</h3>

    <div class="container mt-5">
        <h1 class="mb-4"></h1>
        <div class="row" style="margin-bottom: 10px; margin-left: 3px; width: 980px;">
            <div class="list-group flex-row col-4" id="list-tab" role="tablist" style="width: 410px;">
                <a class="border border-secondary list-group-item list-group-item-action" id="tab1" th:href="@{/honor(category='doglove', sort=${sort})}">λ‚΄μƒκΎΈμλ‘ μ¶”μ²μ</a>
                <a class="border border-secondary list-group-item list-group-item-action" id="tab2" th:href="@{/honor(category='police', sort=${sort})}">μμ°°λ€ λ…μ λ“±κΈ‰ μμ„</a>
            </div>
        </div>
        <button class="btn btn-primary float-end" id="modalOnBtn">κ°€μ΄λ“</button>
        <div id="rankingDiv">
            <table class="table">
                <thead>
                <tr>
                    <th>λ­ν‚Ή</th>
                    <th>μ΄λ¦„</th>
                    <th th:if="${category == 'doglove'}">λ©ν¬μΈνΈ</th>
                    <th th:if="${category == 'police'}">μμ°°λ€ν¬μΈνΈ</th>
                    <th th:if="${category == 'police'}">κ³„κΈ‰</th>
                </tr>
                </thead>
                <tbody id="rankTbody" class="table-group-divider">
                <tr th:each="item, itemStat : ${ranking}">
                    <td>
                        <div style="display: flex; align-items: center;">
                            <h4 th:if="${itemStat.count == 1}"><span class="glowing-medal-gold">π¥‡</span></h4>
                            <h4 th:if="${itemStat.count == 2}"><span class="glowing-medal-silver">π¥</span></h4>
                            <h4 th:if="${itemStat.count == 3}"><span class="glowing-medal-bronze">π¥‰</span></h4>
                            <p th:text="${itemStat.count} + 'μ„'"></p>
                        </div>
                    </td>

                    <td th:text="${item.userId}"></td>
                    <td th:if="${category == 'doglove'}" th:text="${item.totalCount} * 10"></td>
                    <td th:if="${category == 'police'}" th:text="${item.policeScore} * 10"></td>

                    <td th:if="${category == 'police'}">

                        <span th:if="${item.policeScore * 10 > 6600}" th:text="μΉμ•μ΄κ°"></span>
                        <span th:if="${item.policeScore * 10 > 5500 and item.policeScore * 10 <= 6600}" th:text="μΉμ•μ •κ°"></span>
                        <span th:if="${item.policeScore * 10 > 4500 and item.policeScore * 10 <= 5500}" th:text="μΉμ•κ°"></span>
                        <span th:if="${item.policeScore * 10 > 3600 and item.policeScore * 10 <= 4500}" th:text="κ²½λ¬΄κ΄€"></span>
                        <span th:if="${item.policeScore * 10 > 2800 and item.policeScore * 10 <= 3600}" th:text="μ΄κ²½"></span>
                        <span th:if="${item.policeScore * 10 > 2100 and item.policeScore * 10 <= 2800}" th:text="κ²½μ •"></span>
                        <span th:if="${item.policeScore * 10 > 1500 and item.policeScore * 10 <= 2100}" th:text="κ²½κ°"></span>
                        <span th:if="${item.policeScore * 10 > 1000 and item.policeScore * 10 <= 1500}" th:text="κ²½μ„"></span>
                        <span th:if="${item.policeScore * 10 > 600 and item.policeScore * 10 <= 1000}" th:text="κ²½μ‚¬"></span>
                        <span th:if="${item.policeScore * 10 > 300 and item.policeScore * 10 <= 600}" th:text="κ²½μ¥"></span>
                        <span th:if="${item.policeScore * 10 > 100 and item.policeScore * 10 <= 300}" th:text="μκ²½"></span>
                        <span th:if="${item.policeScore * 10 <= 100}" th:text="μ‹ μ…"></span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</main>



<menu th:replace="fragments/head :: footer"></menu>

<div class="modal fade" id="infoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">λ…μμ μ „λ‹Ή κ°€μ΄λ“</h5>
            </div>
                <div class="modal-body">
                    <div class="card mb-4">
                        <div class="card-header bg-info text-white">
                            <h6 class="mb-0">ν¬μΈνΈ νλ“ λ°©λ²•</h6>
                        </div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">μ¶”μ² 1κ° = λ©ν¬μΈνΈ 10p</li>
                                <li class="list-group-item">μμ°°μΌμ§€ 1ν = μμ°° ν¬μΈνΈ 10p</li>
                            </ul>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header bg-success text-white">
                            <h6 class="mb-0">λ­ν‚Ή μ‹μ¤ν…</h6>
                        </div>
                        <div class="card-body p-0">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-primary rounded-pill">μΉμ•μ΄κ°</span>
                                    <span>6600ν¬μΈνΈ μ΄μƒ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-secondary rounded-pill">μΉμ•μ •κ°</span>
                                    <span>5500ν¬μΈνΈ ~ 6600 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-success rounded-pill">μΉμ•κ°</span>
                                    <span>4500ν¬μΈνΈ ~ 5500 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-info rounded-pill">κ²½λ¬΄κ΄€</span>
                                    <span>3600ν¬μΈνΈ ~ 4500 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-warning rounded-pill">μ΄κ²½</span>
                                    <span>2800ν¬μΈνΈ ~ 3600 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-danger rounded-pill">κ²½μ •</span>
                                    <span>2100ν¬μΈνΈ ~ 2800 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-primary rounded-pill">κ²½κ°</span>
                                    <span>1500ν¬μΈνΈ ~ 2100 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-secondary rounded-pill">κ²½μ„</span>
                                    <span>1000ν¬μΈνΈ ~ 1500 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-success rounded-pill">κ²½μ‚¬</span>
                                    <span>600ν¬μΈνΈ ~ 1000 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-info rounded-pill">κ²½μ¥</span>
                                    <span>300ν¬μΈνΈ ~ 600 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-warning rounded-pill">μκ²½</span>
                                    <span>100ν¬μΈνΈ ~ 300 ν¬μΈνΈ</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="badge bg-danger rounded-pill">μ‹ μ…</span>
                                    <span>0ν¬μΈνΈ ~ 100 ν¬μΈνΈ</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="writeModalClose">λ‹«κΈ°</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function(){
        let params = new URLSearchParams(location.search);
        let category = params.get('category');

        if (category == 'police') {
            $('#tab2').addClass('active');
        } else {
            $('#tab1').addClass('active');
        }

        $('#modalOnBtn').click(function(){
            $('#infoModal').modal('show');
        });
    });
</script>
</body>
</html>